"use strict";(self["webpackChunks002"]=self["webpackChunks002"]||[]).push([[5202],{5202:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=function(){var e=this,t=e._self._c;return t("div",[t("Drawer",{attrs:{title:"导入元器件供应商",closable:"",draggable:"",width:"1200"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("Row",[t("Form",{ref:"huasearchForm",attrs:{model:e.huasearchForm,inline:"","label-width":70}},[t("Form-item",{attrs:{label:"供应商名"}},[t("Input",{staticStyle:{width:"400px"},attrs:{type:"text",clearable:"",placeholder:"请输入供应商名"},model:{value:e.huasearchForm.name,callback:function(t){e.$set(e.huasearchForm,"name",t)},expression:"huasearchForm.name"}})],1),t("Form-item",[t("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.huahandleSearch}},[e._v("搜索")]),t("Button",{on:{click:e.huahandleReset}},[e._v("重置")])],1)],1)],1),t("Row",{directives:[{name:"show",rawName:"v-show",value:e.openTip,expression:"openTip"}]},[t("Alert",{attrs:{"show-icon":""}},[e._v(" 已选择 "),t("span",{staticClass:"select-count"},[e._v(e._s(e.huaselectCount))]),e._v(" 项 "),t("a",{staticClass:"select-clear",on:{click:e.huaclearSelectAll}},[e._v("清空")])])],1),t("Row",[t("Col",{attrs:{span:"24"}},[t("Table",{ref:"table1",attrs:{loading:e.hualoading,border:"",columns:e.userColumns,data:e.huaData,sortable:"custom"},on:{"on-sort-change":e.huachangeSort,"on-row-dblclick":e.huashowHuaSelect}})],1)],1),t("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.huasearchForm.pageNumber,total:e.huaTotal,"page-size":e.huasearchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.huachangePage,"on-page-size-change":e.huachangePageSize}})],1),t("span",{staticStyle:{"font-size":"18px",color:"#ff9900"}},[e._v("提示：请双击导入供应商!")]),t("Button",{attrs:{type:"primary"},on:{click:e.closeWindow}},[e._v("退出")])],1)],1)},i=[],r=a(8491);const l={name:"add",components:{},props:{value:{type:Boolean,default:!1},data:{type:Object}},watch:{value(e){this.setCurrentValue(e)},visible(e){this.$emit("input",e)}},data(){return{showValue:!1,visible:this.value,title:"",submitLoading:!1,maxHeight:510,form:{},formValidate:{},roleList:[],userColumns:[{title:"唯一编码",key:"id",minWidth:160,sortable:!0},{title:"供应商名称",key:"name",minWidth:160,fixed:"left",sortable:!0},{title:"类型",key:"type",sortable:!0,fixed:"left",minWidth:100},{title:"地址",key:"address",sortable:!0,minWidth:100},{title:"电话",key:"mobile",minWidth:100},{title:"链接",key:"url",minWidth:100},{title:"备注",key:"remark",minWidth:100},{title:"状态",key:"status",sortable:!0,minWidth:100,render:(e,t)=>0==t.row.status?e("div",[e("span",{style:{color:"#000000"}},"[ 正常 ]")]):e("div",[e("span",{style:{color:"#000000"}},"[ 封存 ]")])}],isImportHuaData:!0,huasearchForm:{pageNumber:1,pageSize:10,username:"",groupId:"",departmentId:""},selectHuaList:[],selectHuaCount:[],huaData:[]}},methods:{init(){this.getHuaUserList()},handleSelectDep(e){var t=this;e.forEach((function(e){t.huasearchForm.departmentId=e.id}))},huashowHuaSelect(e){this.$emit("submited",e)},setCurrentValue(e){e!==this.visible&&(this.visible=e)},closeWindow(){this.visible=!1},huahandleSearch(){this.huasearchForm.pageNumber=1,this.huasearchForm.pageSize=10,this.getHuaUserList()},huahandleReset(){this.$refs.huasearchForm.resetFields(),this.huasearchForm.nickname="",this.huasearchForm.pageNumber=1,this.huasearchForm.pageSize=10,this.huasearchForm.departmentId="",this.getHuaUserList()},huaclearSelectAll(){this.$refs.table1.selectAll(!1)},huachangePage(e){this.huasearchForm.pageNumber=e,this.getHuaUserList(),this.huaclearSelectAll()},huachangePageSize(e){this.huasearchForm.pageSize=e,this.getHuaUserList()},huaAddData(){var e=this;this.huaselectCount<=0?this.$Message.warning("您还未选择要从花名册导入的数据"):this.$Modal.confirm({title:"确认导入",content:"您确认要导入所选的 "+this.huaselectCount+" 条数据?",loading:!0,onOk:()=>{let t="";this.huaselectList.forEach((function(a){t+=a.nickname+",",t=t.substring(0,t.length-1),this.$Modal.remove(),this.$Message.success("导入成功"),this.isImportHuaData=!1,e.form.inPeople=t}))}})},getHuaUserList(){this.hualoading=!0,(0,r.o5)(this.huasearchForm).then((e=>{this.hualoading=!1,e.success&&(this.huaData=e.result.records,this.huaTotal=e.result.total)}))}},mounted(){this.init()}},h=l;var o=a(1001),n=(0,o.Z)(h,s,i,!1,null,null,null);const u=n.exports},8491:(e,t,a)=>{a.d(t,{B9:()=>h,Ip:()=>r,SV:()=>l,Vv:()=>i,dk:()=>c,il:()=>u,o5:()=>n,qw:()=>o});var s=a(7184);const i=e=>(0,s.A_)("/adminAsset/getByPage",e),r=e=>(0,s.j0)("/adminAsset/insert",e),l=e=>(0,s.j0)("/adminAsset/update",e),h=e=>(0,s.j0)("/adminAsset/delByIds",e),o=e=>(0,s.A_)("/adminAssetUnit/getAll",e),n=e=>(0,s.A_)("/adminAssetSupplier/getByPage",e),u=e=>(0,s.A_)("/adminAssetType/getCascader",e),c=e=>(0,s.oZ)("/adminAssets/importData",e)}}]);